BAR_HEIGHT=30
PADDING=0
WIDGET_PADDING=360

yabai -m config \
    active_window_border_color 0xffff9800 \
    auto_balance on \
    bottom_padding $PADDING \
    external_bar main:$BAR_HEIGHT:0 \
    layout bsp \
    left_padding $PADDING \
    mouse_action1 move \
    mouse_action2 resize \
    mouse_drop_action swap \
    mouse_follows_focus on \
    mouse_modifier ctrl \
    normal_window_border_color 0xff212121 \
    right_padding $PADDING \
    top_padding $PADDING \
    window_border on \
    window_gap $PADDING\
    window_placement second_child \

# Apply bsp layout everywhere
for (( i=1; i<=30; i++ ))
do
    yabai -m config --space $i layout bsp
done

# Pad for widgets just on the main display's 10 spaces
for (( i=1; i<=10; i++ ))
do
    yabai -m config --space $i left_padding $WIDGET_PADDING
done

yabai -m rule --add app="^System Settings$" manage=off
yabai -m rule --add app="^Steam$" manage=off

# Events for SketchyBar
yabai -m signal --add event=window_focused action="sketchybar -m --trigger window_focus &> /dev/null"
yabai -m signal --add event=window_title_changed action="sketchybar -m --trigger title_change &> /dev/null"
