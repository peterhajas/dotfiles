# vim: ft=bash

# Padding configuration
yabai -m config window_gap 20
yabai -m config top_padding 0
yabai -m config bottom_padding 0
yabai -m config left_padding 0
yabai -m config right_padding 0

# Widget padding for main space (space 1)
yabai -m config --space 1 right_padding 208

# Padding values for yabai_update_tiling script
export YABAI_EDGE_PADDING=14
export YABAI_WIDGET_PADDING=208

yabai -m config \
    auto_balance on \
    layout stack \
    mouse_action1 move \
    mouse_action2 resize \
    mouse_drop_action swap \
    mouse_follows_focus off \
    mouse_modifier ctrl \
    split_ratio 0.382 \
    window_placement second_child

# Apps to not touch
yabai -m rule --add app="^LuLu$" manage=off
yabai -m rule --add app="^Steam$" manage=off
yabai -m rule --add app="^System Settings$" manage=off
yabai -m rule --add app="^iPhone Mirroring$" manage=off
yabai -m rule --add app="^mpv$" manage=off

# Notifications
yabai -m signal --add event="application_deactivated" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="application_front_switched" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="application_launched" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="application_terminated" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="display_added" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="display_changed" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="display_removed" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="display_resized" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="system_woke" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="window_created" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="window_destroyed" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="window_moved" action="~/bin/yabai_update_tiling_debounced"
yabai -m signal --add event="window_resized" action="~/bin/yabai_update_tiling"
yabai -m signal --add event="window_title_changed" action="~/bin/yabai_update_tiling"

yabai_update_tiling
