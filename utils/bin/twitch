#!/bin/sh

channels=$(tiddlywiki_render "Live Stream Subscriptions")

# Check each channel in parallel (10 at a time) and output only live ones
echo "$channels" | xargs -P 0 -I {} sh -c 'if yt-dlp --skip-download "{}" >/dev/null 2>&1; then echo "{}"; fi' | fzf_mpv
